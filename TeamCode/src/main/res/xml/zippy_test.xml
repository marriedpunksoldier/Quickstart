<?xml version='1.0' encoding='UTF-8' standalone='yes' ?>
<Robot type="FirstInspires-FTC">
    <!--
    ========================================================================
    HARDWARE CONFIGURATION: Zippy Test
    ========================================================================
    
    This configuration file defines all hardware components for the robot.
    It is compatible with the 2025-2026 FTC SDK and Android Studio.
    
    IMPORTANT NOTES FOR FIRST-TIME USERS:
    
    1. SERIAL NUMBER: Replace the placeholder serial number below with your
       actual Control Hub serial number. Find this by:
       - Powering on your Control Hub
       - Connecting via Driver Station
       - Going to Settings > Configure Robot > Scan
       - Note the serial number displayed
    
    2. DEVICE NAMES: The names defined here (LeftFront, intakeServo, etc.)
       are what you'll use in your code with hardwareMap.get()
       
    3. PORT NUMBERS: These MUST match your physical connections:
       - Motors: Ports 0-3
       - Servos: Ports 0-5
       - I2C: Buses 0-3
    
    4. CONTROL HUB vs EXPANSION HUB:
       - Control Hub: serialNumber="(embedded)", parentModuleAddress="2"
       - Expansion Hub: Use actual serial number
    
    5. PINPOINT ODOMETRY COMPUTER:
       This I2C device must be added through the Robot Controller interface.
       See instructions below this configuration.
    ========================================================================
    -->
    
    <!-- 
    =======================================================================
    CONTROL HUB / EXPANSION HUB CONFIGURATION
    =======================================================================
    Replace "[YOUR_SERIAL_NUMBER]" with your actual hub serial number.
    
    For a Control Hub, use:
        serialNumber="(embedded)"
        parentModuleAddress="2"
    
    For a standard Expansion Hub, use:
        serialNumber="DQ123456" (your actual serial number)
        parentModuleAddress="2" (or your configured address)
    =======================================================================
    -->
    
    <LynxUsbDevice 
        name="Control Hub Portal" 
        serialNumber="(embedded)" 
        parentModuleAddress="2">
        
        <LynxModule 
            name="Control Hub" 
            port="2">
            
            <!-- 
            =======================================================================
            BUILT-IN IMU (Always on I2C Bus 0)
            =======================================================================
            The Control Hub's internal IMU is automatically configured.
            This is separate from the Pinpoint's IMU.
            =======================================================================
            -->
            <LynxEmbeddedIMU name="imu" port="0" bus="0" />
            
            <!-- 
            =======================================================================
            DRIVE MOTORS (goBILDA 5202 Series)
            =======================================================================
            All four motors are goBILDA 5202 Series Motors configured for
            a mecanum or holonomic drive system.
            
            PORT ASSIGNMENTS (CRITICAL - Must match physical connections):
                Motor Port 0: LeftFront  (front left wheel)
                Motor Port 1: LeftRear   (rear left wheel)
                Motor Port 2: rightFront (front right wheel)
                Motor Port 3: rightRear  (rear right wheel)
            
            NAMING CONVENTION:
                Names are case-sensitive and will be used in your code exactly
                as written here. Example: hardwareMap.dcMotor.get("LeftFront")
            =======================================================================
            -->
            
            <!-- Front Left Drive Motor -->
            <goBILDA5202SeriesMotor name="LeftFront" port="0" />
            
            <!-- Rear Left Drive Motor -->
            <goBILDA5202SeriesMotor name="LeftRear" port="1" />
            
            <!-- Front Right Drive Motor -->
            <goBILDA5202SeriesMotor name="rightFront" port="2" />
            
            <!-- Rear Right Drive Motor -->
            <goBILDA5202SeriesMotor name="rightRear" port="3" />
            
            <!-- 
            =======================================================================
            SERVOS (goBILDA Continuous Rotation Servos)
            =======================================================================
            Continuous rotation servos function like DC motors but connect to
            servo ports and run at servo-appropriate speeds.
            
            PORT ASSIGNMENTS:
                Servo Port 0: intakeServo  (intake mechanism)
                Servo Port 1: indexerServo (indexer/sorting mechanism)
            
            These will be accessed in code as CRServo objects, not standard Servos.
            Example: hardwareMap.crservo.get("intakeServo")
            =======================================================================
            -->
            
            <!-- Intake Continuous Rotation Servo -->
            <ContinuousRotationServo name="intakeServo" port="0" />
            
            <!-- Indexer Continuous Rotation Servo -->
            <ContinuousRotationServo name="indexerServo" port="1" />
            
            <!-- 
            =======================================================================
            I2C DEVICES - PINPOINT ODOMETRY COMPUTER
            =======================================================================
            
            ⚠️  IMPORTANT: THE PINPOINT MUST BE CONFIGURED MANUALLY ⚠️
            
            The goBILDA Pinpoint Odometry Computer CANNOT be fully configured
            in this XML file for first-time setup. You MUST add it through the
            Robot Controller app interface.
            
            WHY? The Pinpoint requires the FTC SDK's device detection system to
            properly register its I2C communication protocol and driver class.
            
            CONFIGURATION INSTRUCTIONS:
            
            After deploying this configuration file, follow these steps:
            
            1. On the Driver Station:
               - Tap the three dots (⋮) in the upper right
               - Select "Configure Robot"
            
            2. Select your active configuration:
               - Tap on "Zippy Test" (or the activated configuration)
               - Tap "Edit"
            
            3. Expand the Control Hub:
               - Tap "Control Hub Portal"
               - Tap "Control Hub"
            
            4. Navigate to I2C Bus 0:
               - Tap "I2C Bus 0" (You'll see the imu already listed)
               - Tap "Add"
            
            5. Add the Pinpoint:
               - Look for "goBILDA Pinpoint Odometry Computer" in the device list
               - Select it
               - Name it "pinpoint" (recommended) or your preferred name
               - Tap "Done"
            
            6. Save the configuration:
               - Tap "Done" to exit the I2C Bus screen
               - Tap "Done" to exit the Control Hub screen  
               - Tap "Save"
            
            IMPORTANT NOTES:
            - The Pinpoint is on I2C Bus 0 (same bus as the built-in IMU)
            - This is allowed because each I2C device has a unique address
            - Ensure your two odometry pods are connected to the Pinpoint
              before configuring
            - The device name you choose here will be used in your code:
              Example: hardwareMap.get(GoBildaPinpointDriver.class, "pinpoint")
            
            =======================================================================
            -->
            
        </LynxModule>
    </LynxUsbDevice>
    
    <!-- 
    =======================================================================
    END OF CONFIGURATION
    =======================================================================
    This configuration is now ready to deploy to your Robot Controller!
    
    NEXT STEPS:
    1. Deploy this file to your Robot Controller using Android Studio
       (Run > TeamCode)
    2. Activate "Zippy Test" in the Robot Controller app
    3. Add the Pinpoint Odometry Computer following the instructions above
    4. Test each component individually before running full programs
    
    VERIFICATION CHECKLIST:
    ☐ Serial number updated for your Control Hub
    ☐ All motor connections verified (ports 0-3)
    ☐ All servo connections verified (ports 0-1)
    ☐ Pinpoint connected to I2C port 0 with two odometry pods attached
    ☐ Configuration deployed and activated on Robot Controller
    ☐ Pinpoint manually added through configuration interface
    ☐ Each motor tested individually (verify correct rotation)
    ☐ Each servo tested individually
    ☐ Pinpoint reading position data correctly
    
    For additional help, refer to:
    - FTC SDK Documentation: https://ftc-docs.firstinspires.org/
    - goBILDA Pinpoint User Guide: Available at gobilda.com
    =======================================================================
    -->
    
</Robot>
